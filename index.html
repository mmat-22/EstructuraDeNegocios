<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Consulta de Productores</title>
  <link rel="stylesheet" href="style.css?v=4">
</head>
<body>
  <!-- Barra superior -->
  <header class="topbar">
    <div class="brand">
      <span class="logo-dot"></span>
      <span class="brand-text">Compania de  Seguros</span>
    </div>
  </header>

  <main class="container">
    <!-- Controles -->
    <section class="card controls">
      <h1>Consulta de Productores</h1>

      <div class="controls-row">
        <label class="input-group">
          <span class="input-label">Ingrese el Código de Productor</span>
          <input id="input-codigo" type="text" placeholder="Ej: 61295" inputmode="numeric" />
        </label>

        <div class="btn-group">
          <button class="btn primary" onclick="buscarProductor()">Buscar</button>
          <button class="btn ghost" onclick="exportarPDF()">Crear PDF</button>
          <button class="btn secondary" onclick="nuevaConsulta()">Nueva consulta</button>
        </div>
      </div>

      <p class="hint">Importante: para generar el PDF se utiliza la vista actual de la ficha.</p>
    </section>

    <!-- Resultado -->
    <section id="resultado" class="card ficha">
      <div class="placeholder">Ingresá un código para ver la ficha…</div>
    </section>

    <section id="comisiones" class="card comisiones">
  <div class="comisiones-head">
    <h2>Comisiones</h2>

    <!-- Combo de carga manual para OE -->
    <label class="oe-group" for="input-oe" title="Número de Orden de Emisión">
      <span>N° de OE</span>
      <input id="input-oe" list="oe-list" type="text" placeholder="Ej: 367868" inputmode="numeric" />
      <datalist id="oe-list">
        <!-- Opcional: podés precargar valores frecuentes -->
        <!-- <option value="367868" /><option value="367735" /> -->
      </datalist>
    </label>
  </div>
  <!-- … (resto de la sección tal como está) … -->


      <!-- Fila 1 -->
      <div class="com-row">
        <label for="com-productor">Insertar comisiones para el productor :</label>
        <input id="com-productor" type="number" min="0" max="100" step="0.01" value="0" />
        <span class="pct">%</span>
      </div>

      <!-- Fila 2 -->
      <div class="com-row">
        <label for="com-organizador">Insertar comisiones para el Organizador :</label>
        <input id="com-organizador" type="number" min="0" max="100" step="0.01" value="0" />
        <span class="pct">%</span>
      </div>

      <!-- Fila 3 -->
      <div class="com-row">
        <label for="com-otras1">Insertar otras comisiones :</label>
        <input id="com-otras1" type="number" min="0" max="100" step="0.01" value="0" />
        <span class="pct">%</span>
      </div>

      <!-- Fila 4 -->
      <div class="com-row">
        <label for="com-otras2">Insertar otras comisiones :</label>
        <input id="com-otras2" type="number" min="0" max="100" step="0.01" value="0" />
        <span class="pct">%</span>
      </div>

      <!-- Resumen azul -->
      <div class="resumen-com">
        <div class="resumen-row"><span>Productor</span>    <strong id="v-productor">0,00%</strong></div>
        <div class="resumen-row"><span>Organizador</span>  <strong id="v-organizador">0,00%</strong></div>
        <div class="resumen-row"><span>Otras 1 (informar codigo en observaciones)</span>      <strong id="v-otras1">0,00%</strong></div>
        <div class="resumen-row"><span>Otras 2 (informar codigo en observaciones)</span>      <strong id="v-otras2">0,00%</strong></div>
      </div>

      <!-- Total -->
      <div class="total-wrap">
        <div class="total-label">Total de comisiones</div>
        <div class="total-bar">
          <div class="total-fill" id="total-fill" style="width:0%"></div>
          <div class="total-text" id="total-text">0,00%</div>
        </div>
      </div>

      <!-- Observaciones -->
      <div class="obs">
        <div class="obs-head">
          <strong>Observaciones:</strong>
          <span>texto libre para informar situaciones a tener en cuenta: <strong>EXCLUSIVAMENTE</strong> sobre la información precedente</span>
        </div>
        <textarea id="observaciones" rows="5" placeholder="Escriba aquí..."></textarea>
      </div>
    </section>
  </main>

  <footer class="footer">
    <small>Versión demo • Uso interno</small>
  </footer>

<!-- Fallback local: base de productores incrustada (opcional).
     Si probás con file:// y el fetch falla, el script usa este contenido. -->
<script id="productores-json" type="application/json">
<!--
  Pueden pegar aquí TODO el contenido de productores-github.json
  si quieren que funcione sin servidor local. Si lo dejan vacío,
  no pasa nada (sólo sirve de fallback).
-->
</script>


  <!-- Librerías y scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="script.js?v=12"></script>

 
</body>
</html>
